/* Pinterest Header Hide Extension Styles */

/* Only hide header when the body has the pinterest-header-hidden class */
.pinterest-header-hidden #HeaderContent {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    z-index: 1000 !important;
    transform: translateY(-100%) !important;
    transition: transform 0.3s ease-in-out !important;
    will-change: transform !important;
}

/* Fallback selectors in case ID changes */
.pinterest-header-hidden [data-test-id="header"],
.pinterest-header-hidden .QLY._he.p6V.zI7 {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    z-index: 1000 !important;
    transform: translateY(-100%) !important;
    transition: transform 0.3s ease-in-out !important;
    will-change: transform !important;
}

/* JavaScript will handle showing/hiding the header */

/* Hide the more-ideas-tabs element and its parent */
[data-root-margin="more-ideas-tabs"] {
    display: none !important;
}

/* Hide the vertical nav element - only when extension is active */
.pinterest-header-hidden #VerticalNavContent {
    display: none;
}

/* Fallback selectors */
.pinterest-header-hidden [data-test-id="vertical-nav"],
.pinterest-header-hidden [class*="vertical-nav"],
.pinterest-header-hidden [class*="VerticalNav"] {
    display: none;
}

/* Hide the scrollable-one-bar element */
[data-test-id="scrollable-one-bar-root"] {
    display: none !important;
}

/* Hide the skip to content element */
[data-test-id="hiddenSkipToContentContainer"] {
    display: none !important;
}

/* Set padding-left of immediate child of appContent */
.appContent > * {
    padding-left: 12px !important;
}

/* Removed old in-page color picker styles - now using popup */

/* Remove the CSS hover zone - JavaScript handles this */

/* Ensure smooth transitions for all header elements */
#HeaderContent * {
    transition: all 0.3s ease-in-out !important;
}

/* Fallback for other selectors */
[data-test-id="header"] *,
.QLY._he.p6V.zI7 * {
    transition: all 0.3s ease-in-out !important;
}

/* Prevent layout shift when header is hidden */
body {
    padding-top: 0 !important;
}

/* Ensure the main content doesn't jump when header appears/disappears */
#HeaderContent + * {
    margin-top: 0 !important;
}

/* Fallback for other selectors */
[data-test-id="header"] + * {
    margin-top: 0 !important;
}

/* Liquid Glass Theme Styles */
.liquid-glass-theme {
    /* Make everything transparent by default */
    * {
        background: transparent !important;
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        border: none !important;
        box-shadow: none !important;
        opacity: 1 !important;
    }

    /* Apply liquid glass effect ONLY to actual button elements - EXCLUDE dropdowns and divs */
    button:not([style*="background: transparent"]):not([style*="background: none"]):not([data-test-id="PinBetterSaveDropdown"]):not([aria-label*="Select a board"]), 
    [role="button"]:not(div):not([style*="background: transparent"]):not([style*="background: none"]):not([data-test-id="PinBetterSaveDropdown"]):not([aria-label*="Select a board"]),
    .button:not(div):not([style*="background: transparent"]):not([style*="background: none"]):not([data-test-id="PinBetterSaveDropdown"]):not([aria-label*="Select a board"]),
    input[type="button"]:not([style*="background: transparent"]):not([style*="background: none"]):not([data-test-id="PinBetterSaveDropdown"]):not([aria-label*="Select a board"]),
    input[type="submit"]:not([style*="background: transparent"]):not([style*="background: none"]):not([data-test-id="PinBetterSaveDropdown"]):not([aria-label*="Select a board"]),
    .btn:not(div):not([style*="background: transparent"]):not([style*="background: none"]):not([data-test-id="PinBetterSaveDropdown"]):not([aria-label*="Select a board"]),
    .Button:not(div):not([style*="background: transparent"]):not([style*="background: none"]):not([data-test-id="PinBetterSaveDropdown"]):not([aria-label*="Select a board"]),
    [data-test-id*="button"]:not(div):not([style*="background: transparent"]):not([style*="background: none"]):not([data-test-id="PinBetterSaveDropdown"]):not([data-test-id="board-selection-item-selected"]):not([data-test-id="pin-better-save-button"]),
    [class*="Button"]:not(div):not([style*="background: transparent"]):not([style*="background: none"]):not([data-test-id="PinBetterSaveDropdown"]):not([aria-label*="Select a board"]),
    [class*="button"]:not(div):not([style*="background: transparent"]):not([style*="background: none"]):not([data-test-id="PinBetterSaveDropdown"]):not([aria-label*="Select a board"]) {
        background: transparent !important;
        backdrop-filter: blur(20px) !important;
        -webkit-backdrop-filter: blur(20px) !important;
        border: 1px solid rgba(255, 255, 255, 0.1) !important;
        border-radius: 12px !important;
    }

    /* Removed general button blur rules - only white background detection applies now */

    /* Pinterest pin card hover overlay - make completely transparent */
    .liquid-glass-theme [data-test-id="pin-card-hover-overlay-open-legend-wrapper"],
    .liquid-glass-theme [data-test-id="pin-card-hover-overlay-open-legend-wrapper"] * {
        background: transparent !important;
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        border: none !important;
        box-shadow: none !important;
        opacity: 0 !important;
    }

    /* Pinterest pin card hover overlays in general */
    .liquid-glass-theme [data-test-id*="pin-card-hover-overlay"],
    .liquid-glass-theme [data-test-id*="pin-card-hover-overlay"] * {
        background: transparent !important;
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        border: none !important;
        box-shadow: none !important;
        opacity: 0 !important;
    }

    /* Pinterest pin overlays and legends */
    .liquid-glass-theme [data-test-id*="overlay"],
    .liquid-glass-theme [data-test-id*="overlay"] *,
    .liquid-glass-theme [data-test-id*="legend"],
    .liquid-glass-theme [data-test-id*="legend"] *,
    .liquid-glass-theme [class*="overlay"],
    .liquid-glass-theme [class*="overlay"] *,
    .liquid-glass-theme [class*="legend"],
    .liquid-glass-theme [class*="legend"] * {
        background: transparent !important;
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        border: none !important;
        box-shadow: none !important;
        opacity: 0 !important;
    }

    /* Better Save Component - Make ALL parent/wrapper elements completely transparent */
    .liquid-glass-theme [data-test-id="better-save"],
    .liquid-glass-theme [data-test-id="better-save"] *,
    .liquid-glass-theme [data-test-id="pointer-events-wrapper"],
    .liquid-glass-theme [data-test-id="pointer-events-wrapper"] *,
    .liquid-glass-theme [data-test-id="pin-better-save-button"],
    .liquid-glass-theme [data-test-id="pin-better-save-button"] *,
    .liquid-glass-theme [data-test-id="pin-better-save-button"] > div,
    .liquid-glass-theme [data-test-id="pin-better-save-button"] > div *,
    .liquid-glass-theme [data-test-id="PinBetterSaveButton"],
    .liquid-glass-theme [data-test-id="PinBetterSaveButton"] > div,
    .liquid-glass-theme .BTb.Jea.L9n.mjS.v35.zI7,
    .liquid-glass-theme .s7I.ujU.zI7 {
        background: transparent !important;
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        border: none !important;
        box-shadow: none !important;
    }

    /* Board selection dropdown - completely transparent - OVERRIDE all button styles */
    .liquid-glass-theme [data-test-id="board-selection-item-selected"],
    .liquid-glass-theme [data-test-id="board-selection-item-selected"] *,
    .liquid-glass-theme [data-test-id="PinBetterSaveDropdown"],
    .liquid-glass-theme [data-test-id="PinBetterSaveDropdown"] *,
    .liquid-glass-theme [data-test-id="board-selection-item-selected"] button,
    .liquid-glass-theme [data-test-id="PinBetterSaveDropdown"] button,
    .liquid-glass-theme button[data-test-id="PinBetterSaveDropdown"],
    .liquid-glass-theme button[aria-label*="Select a board"] {
        background: transparent !important;
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        border: none !important;
        box-shadow: none !important;
        transform: none !important;
    }
    
    /* Force remove hover effects on dropdown */
    .liquid-glass-theme [data-test-id="board-selection-item-selected"]:hover,
    .liquid-glass-theme [data-test-id="board-selection-item-selected"] *:hover,
    .liquid-glass-theme [data-test-id="PinBetterSaveDropdown"]:hover,
    .liquid-glass-theme [data-test-id="PinBetterSaveDropdown"] *:hover,
    .liquid-glass-theme button[data-test-id="PinBetterSaveDropdown"]:hover,
    .liquid-glass-theme button[aria-label*="Select a board"]:hover {
        background: transparent !important;
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        border: none !important;
        box-shadow: none !important;
        transform: none !important;
    }

    /* FORCE TRANSPARENCY on ALL wrapper elements and their descendants - No blur allowed */
    .liquid-glass-theme [data-test-id="pointer-events-wrapper"],
    .liquid-glass-theme [data-test-id="pointer-events-wrapper"] *:not(button[aria-label="Save"]),
    .liquid-glass-theme [data-test-id="pin-better-save-button"],
    .liquid-glass-theme [data-test-id="pin-better-save-button"] div,
    .liquid-glass-theme [data-test-id="pin-better-save-button"] *:not(button[aria-label="Save"]),
    .liquid-glass-theme [data-test-id="PinBetterSaveButton"]:not(button),
    .liquid-glass-theme [data-test-id="PinBetterSaveButton"] div {
        background: transparent !important;
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        border: none !important;
        box-shadow: none !important;
    }
    
    /* Extra specificity - force all divs in the structure to be transparent */
    .liquid-glass-theme div[data-test-id="pin-better-save-button"],
    .liquid-glass-theme div[data-test-id="pin-better-save-button"] > div,
    .liquid-glass-theme div[data-test-id="pin-better-save-button"] > div > div,
    .liquid-glass-theme div[data-test-id="pin-better-save-button"] div.Jea,
    .liquid-glass-theme div[data-test-id="pin-better-save-button"] div.KS5,
    .liquid-glass-theme div.Eqh.X0f.s7I.zI7,
    .liquid-glass-theme div[data-test-id="PinBetterSaveButton"] {
        background: transparent !important;
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        border: none !important;
        box-shadow: none !important;
    }

    /* EXCEPTION: ONLY this specific button element gets the liquid glass blur effect */
    /* button.xuZ.JkZ with aria-label="Save" */
    .liquid-glass-theme button[aria-label="Save"][aria-pressed="false"].xuZ.JkZ,
    .liquid-glass-theme button[aria-label="Save"].xuZ.JkZ,
    .liquid-glass-theme [data-test-id="PinBetterSaveButton"] button[aria-label="Save"] {
        background: transparent !important;
        backdrop-filter: blur(20px) !important;
        -webkit-backdrop-filter: blur(20px) !important;
        border: 1px solid rgba(255, 255, 255, 0.1) !important;
        border-radius: 12px !important;
        box-shadow: none !important;
        color: rgba(255, 255, 255, 0.9) !important;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
        position: relative !important;
        overflow: hidden !important;
    }

    /* But all children of the button stay transparent - only button has blur */
    .liquid-glass-theme button[aria-label="Save"] * {
        background: transparent !important;
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        border: none !important;
        box-shadow: none !important;
    }

    /* Hover state for the Save button only */
    .liquid-glass-theme button[aria-label="Save"][aria-pressed="false"].xuZ.JkZ:hover,
    .liquid-glass-theme button[aria-label="Save"].xuZ.JkZ:hover,
    .liquid-glass-theme [data-test-id="PinBetterSaveButton"] button[aria-label="Save"]:hover {
        border-color: rgba(255, 255, 255, 0.2) !important;
        transform: translateY(-2px) !important;
    }

    /* Active state for the Save button only */
    .liquid-glass-theme button[aria-label="Save"][aria-pressed="false"].xuZ.JkZ:active,
    .liquid-glass-theme button[aria-label="Save"].xuZ.JkZ:active,
    .liquid-glass-theme [data-test-id="PinBetterSaveButton"] button[aria-label="Save"]:active {
        transform: translateY(0) !important;
    }
}
